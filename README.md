# RedditUsernameHider

Does what it says on the tin. A simple javascript snippet to hide usernames for purposes of anonymizing screenshots to prevent brigading and such.

To use, simply create a bookmark(let) with the following in the 'URL' section (contains minified js):

<<<<<<< HEAD
`javascript:(function(){function setColor(a,b){void 0!==b?(a.style.backgroundColor=b,a.style.color=b):(a.style.cssText="-webkit-filter: blur(5px); /* Safari */",a.style.cssText="filter: blur(5px)")}function setByClassName(a,b){[].forEach.call(document.getElementsByClassName(a),function(a){a.innerHTML=b})}function classToggle(a,b){a.classList.contains(b+"-anonymized")?(a.classList.remove(b+"-anonymized"),a.classList.add(b)):(a.classList.remove(b),a.classList.add(b+"-anonymized"))}function checkReserved(a){return reservedFound=!1,reservedClasses.forEach(function(b,c){(a.classList.contains(b)||a.classList.contains(b+"-anonymized"))&&(classToggle(a,b),setColor(a,reservedColors[c]),reservedFound=!0)}),reservedFound}hideSubredditInfo=!1,hideSideLists=!0,hideSidebar=!1,unames=[],colors=["blue","black","orange","yellow","olive","maroon","purple","fuchsia","lime","teal","aqua","navy","gray","silver","#1cd100","#b02ad1","#2ad199","#d12a2a","#ab5b00","#226bab","#7c8500","#850035","#006a85","#6a0085","#1b3785","#0d5e00","#005e58","#00005e","#5e2713","#003807","#382d00","#380b29"],reservedClasses=["submitter","moderator","admin"],reservedColors=["blue","green","red"],[].forEach.call(document.getElementsByClassName("author"),function(a){checkReserved(a)||(par=a.parentElement,"p"==par.tagName.toLowerCase()&&"tagline"==par.className&&(a.classList.contains("anonymized")?setColor(a,""):(uname=a.textContent,unames.indexOf(uname)===-1&&unames.push(uname),uIndex=unames.indexOf(uname),color=colors[uIndex],setColor(a,color)),a.classList.toggle("anonymized")))}),setByClassName("linkinfo",""),setByClassName("user","Username and stats hidden"),1==hideSidebar?setByClassName("side","<div><p><br>Sidebar hidden for privacy</p></div>"):(1==hideSubredditInfo?setByClassName("titlebox","Subreddit info hidden"):[].forEach.call(document.getElementsByClassName("titlebox"),function(a){elFlair=a.getElementsByClassName("tagline"),elFlair[0].innerHTML="User/flair hidden for privacy"}),1==hideSideLists&&setByClassName("sidecontentbox","Mod/recent list hidden for privacy"));})();`

Alternatively, one with HTMLSpecialChars encoded: 

`javascript:(function()%7Bfunction%20setColor(a%2Cb)%7Bvoid%200!%3D%3Db%3F(a.style.backgroundColor%3Db%2Ca.style.color%3Db)%3A(a.style.cssText%3D%22-webkit-filter%3A%20blur(5px)%3B%20%2F*%20Safari%20*%2F%22%2Ca.style.cssText%3D%22filter%3A%20blur(5px)%22)%7Dfunction%20setByClassName(a%2Cb)%7B%5B%5D.forEach.call(document.getElementsByClassName(a)%2Cfunction(a)%7Ba.innerHTML%3Db%7D)%7Dfunction%20classToggle(a%2Cb)%7Ba.classList.contains(b%2B%22-anonymized%22)%3F(a.classList.remove(b%2B%22-anonymized%22)%2Ca.classList.add(b))%3A(a.classList.remove(b)%2Ca.classList.add(b%2B%22-anonymized%22))%7Dfunction%20checkReserved(a)%7Breturn%20reservedFound%3D!1%2CreservedClasses.forEach(function(b%2Cc)%7B(a.classList.contains(b)%7C%7Ca.classList.contains(b%2B%22-anonymized%22))%26%26(classToggle(a%2Cb)%2CsetColor(a%2CreservedColors%5Bc%5D)%2CreservedFound%3D!0)%7D)%2CreservedFound%7DhideSubredditInfo%3D!1%2ChideSideLists%3D!0%2ChideSidebar%3D!1%2Cunames%3D%5B%5D%2Ccolors%3D%5B%22blue%22%2C%22black%22%2C%22orange%22%2C%22yellow%22%2C%22olive%22%2C%22maroon%22%2C%22purple%22%2C%22fuchsia%22%2C%22lime%22%2C%22teal%22%2C%22aqua%22%2C%22navy%22%2C%22gray%22%2C%22silver%22%2C%22%231cd100%22%2C%22%23b02ad1%22%2C%22%232ad199%22%2C%22%23d12a2a%22%2C%22%23ab5b00%22%2C%22%23226bab%22%2C%22%237c8500%22%2C%22%23850035%22%2C%22%23006a85%22%2C%22%236a0085%22%2C%22%231b3785%22%2C%22%230d5e00%22%2C%22%23005e58%22%2C%22%2300005e%22%2C%22%235e2713%22%2C%22%23003807%22%2C%22%23382d00%22%2C%22%23380b29%22%5D%2CreservedClasses%3D%5B%22submitter%22%2C%22moderator%22%2C%22admin%22%5D%2CreservedColors%3D%5B%22blue%22%2C%22green%22%2C%22red%22%5D%2C%5B%5D.forEach.call(document.getElementsByClassName(%22author%22)%2Cfunction(a)%7BcheckReserved(a)%7C%7C(par%3Da.parentElement%2C%22p%22%3D%3Dpar.tagName.toLowerCase()%26%26%22tagline%22%3D%3Dpar.className%26%26(a.classList.contains(%22anonymized%22)%3FsetColor(a%2C%22%22)%3A(uname%3Da.textContent%2Cunames.indexOf(uname)%3D%3D%3D-1%26%26unames.push(uname)%2CuIndex%3Dunames.indexOf(uname)%2Ccolor%3Dcolors%5BuIndex%5D%2CsetColor(a%2Ccolor))%2Ca.classList.toggle(%22anonymized%22)))%7D)%2CsetByClassName(%22linkinfo%22%2C%22%22)%2CsetByClassName(%22user%22%2C%22Username%20and%20stats%20hidden%22)%2C1%3D%3DhideSidebar%3FsetByClassName(%22side%22%2C%22%3Cdiv%3E%3Cp%3E%3Cbr%3ESidebar%20hidden%20for%20privacy%3C%2Fp%3E%3C%2Fdiv%3E%22)%3A(1%3D%3DhideSubredditInfo%3FsetByClassName(%22titlebox%22%2C%22Subreddit%20info%20hidden%22)%3A%5B%5D.forEach.call(document.getElementsByClassName(%22titlebox%22)%2Cfunction(a)%7BelFlair%3Da.getElementsByClassName(%22tagline%22)%2CelFlair%5B0%5D.innerHTML%3D%22User%2Fflair%20hidden%20for%20privacy%22%7D)%2C1%3D%3DhideSideLists%26%26setByClassName(%22sidecontentbox%22%2C%22Mod%2Frecent%20list%20hidden%20for%20privacy%22))%7D)()`
=======
`javascript:(function(){function setColor(e,s){void 0!==s?(e.style.backgroundColor=s,e.style.color=s):(e.style.cssText="-webkit-filter: blur(5px); /* Safari */",e.style.cssText="filter: blur(5px)")}function setByClassName(e,s){[].forEach.call(document.getElementsByClassName(e),function(e){e.innerHTML=s})}hideSubredditInfo=!1,hideSideLists=!0,hideSidebar=!1,unames=[],colors=["blue","black","orange","yellow","olive","maroon","purple","fuchsia","lime","teal","aqua","navy","gray","silver","#1cd100","#b02ad1","#2ad199","#d12a2a","#ab5b00","#226bab","#7c8500","#850035","#006a85","#6a0085","#1b3785","#0d5e00","#005e58","#00005e","#5e2713","#003807","#382d00","#380b29"],reservedClasses=["submitter","moderator","admin"],reservedColors=["blue","green","red"],[].forEach.call(document.getElementsByClassName("author"),function(e){e.classList.contains("submitter")&&e.classList.contains("moderator")&&e.classList.contains("admin")||(par=e.parentElement,"p"==par.tagName.toLowerCase()&&"tagline"==par.className&&(uname=e.textContent,-1===unames.indexOf(uname)&&unames.push(uname),uIndex=unames.indexOf(uname),color=colors[uIndex],setColor(e,color))),e.classList.contains("submitter")&&(e.classList.remove("submitter"),setColor(e,"blue")),e.classList.contains("moderator")&&(e.classList.remove("moderator"),setColor(e,"green")),e.classList.contains("admin")&&(e.classList.remove("admin"),setColor(e,"red"))}),setByClassName("linkinfo",""),setByClassName("user","Username and stats hidden"),1==hideSidebar?setByClassName("side","<div><p><br>Sidebar hidden for privacy</p></div>"):(1==hideSubredditInfo?setByClassName("titlebox","Subreddit info hidden"):[].forEach.call(document.getElementsByClassName("titlebox"),function(e){elFlair=e.getElementsByClassName("tagline"),elFlair[0].innerHTML="User/flair hidden for privacy"}),1==hideSideLists&&setByClassName("sidecontentbox","Mod/recent list hidden for privacy"));})();`

Alternatively, one with HTMLSpecialChars encoded: 

`javascript:(function()%7Bfunction%20setColor(e%2Cs)%7Bvoid%200!%3D%3Ds%3F(e.style.backgroundColor%3Ds%2Ce.style.color%3Ds)%3A(e.style.cssText%3D%22-webkit-filter%3A%20blur(5px)%3B%20%2F*%20Safari%20*%2F%22%2Ce.style.cssText%3D%22filter%3A%20blur(5px)%22)%7Dfunction%20setByClassName(e%2Cs)%7B%5B%5D.forEach.call(document.getElementsByClassName(e)%2Cfunction(e)%7Be.innerHTML%3Ds%7D)%7DhideSubredditInfo%3D!1%2ChideSideLists%3D!0%2ChideSidebar%3D!1%2Cunames%3D%5B%5D%2Ccolors%3D%5B%22blue%22%2C%22black%22%2C%22orange%22%2C%22yellow%22%2C%22olive%22%2C%22maroon%22%2C%22purple%22%2C%22fuchsia%22%2C%22lime%22%2C%22teal%22%2C%22aqua%22%2C%22navy%22%2C%22gray%22%2C%22silver%22%2C%22%231cd100%22%2C%22%23b02ad1%22%2C%22%232ad199%22%2C%22%23d12a2a%22%2C%22%23ab5b00%22%2C%22%23226bab%22%2C%22%237c8500%22%2C%22%23850035%22%2C%22%23006a85%22%2C%22%236a0085%22%2C%22%231b3785%22%2C%22%230d5e00%22%2C%22%23005e58%22%2C%22%2300005e%22%2C%22%235e2713%22%2C%22%23003807%22%2C%22%23382d00%22%2C%22%23380b29%22%5D%2CreservedClasses%3D%5B%22submitter%22%2C%22moderator%22%2C%22admin%22%5D%2CreservedColors%3D%5B%22blue%22%2C%22green%22%2C%22red%22%5D%2C%5B%5D.forEach.call(document.getElementsByClassName(%22author%22)%2Cfunction(e)%7Be.classList.contains(%22submitter%22)%26%26e.classList.contains(%22moderator%22)%26%26e.classList.contains(%22admin%22)%7C%7C(par%3De.parentElement%2C%22p%22%3D%3Dpar.tagName.toLowerCase()%26%26%22tagline%22%3D%3Dpar.className%26%26(uname%3De.textContent%2C-1%3D%3D%3Dunames.indexOf(uname)%26%26unames.push(uname)%2CuIndex%3Dunames.indexOf(uname)%2Ccolor%3Dcolors%5BuIndex%5D%2CsetColor(e%2Ccolor)))%2Ce.classList.contains(%22submitter%22)%26%26(e.classList.remove(%22submitter%22)%2CsetColor(e%2C%22blue%22))%2Ce.classList.contains(%22moderator%22)%26%26(e.classList.remove(%22moderator%22)%2CsetColor(e%2C%22green%22))%2Ce.classList.contains(%22admin%22)%26%26(e.classList.remove(%22admin%22)%2CsetColor(e%2C%22red%22))%7D)%2CsetByClassName(%22linkinfo%22%2C%22%22)%2CsetByClassName(%22user%22%2C%22Username%20and%20stats%20hidden%22)%2C1%3D%3DhideSidebar%3FsetByClassName(%22side%22%2C%22%3Cdiv%3E%3Cp%3E%3Cbr%3ESidebar%20hidden%20for%20privacy%3C%2Fp%3E%3C%2Fdiv%3E%22)%3A(1%3D%3DhideSubredditInfo%3FsetByClassName(%22titlebox%22%2C%22Subreddit%20info%20hidden%22)%3A%5B%5D.forEach.call(document.getElementsByClassName(%22titlebox%22)%2Cfunction(e)%7BelFlair%3De.getElementsByClassName(%22tagline%22)%2CelFlair%5B0%5D.innerHTML%3D%22User%2Fflair%20hidden%20for%20privacy%22%7D)%2C1%3D%3DhideSideLists%26%26setByClassName(%22sidecontentbox%22%2C%22Mod%2Frecent%20list%20hidden%20for%20privacy%22))%7D)()`
>>>>>>> origin/master

Click on it to use. Note: The only way to undo this at the moment is to reload the page!

To modify options, edit a file in the repo, minify, encapsulate it like so:

`javascript:(function(){ // code goes here })();`

and paste it into the 'URL' component of your bookmarklet.
