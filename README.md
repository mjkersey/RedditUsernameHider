# RedditUsernameHider

Does what it says on the tin. A simple javascript snippet to hide usernames for purposes of anonymizing screenshots to prevent brigading and such.

To use, simply create a bookmark(let) with the following in the 'URL' section (contains minified js):

`javascript:(function(){function setColor(e,s){void 0!==s?(e.style.backgroundColor=s,e.style.color=s):(e.style.cssText="-webkit-filter: blur(5px); /* Safari */",e.style.cssText="filter: blur(5px)")}function toggleClassVisibility(e){[].forEach.call(document.getElementsByClassName(e),function(e){e.style.display="none"==e.style.display?"":"none"})}function classToggle(e,s){e.classList.contains(s+"-anonymized")?(e.classList.remove(s+"-anonymized"),e.classList.add(s)):(e.classList.remove(s),e.classList.add(s+"-anonymized"))}function checkReserved(e){return reservedFound=!1,reservedClasses.forEach(function(s,i){(e.classList.contains(s)||e.classList.contains(s+"-anonymized"))&&(classToggle(e,s),setColor(e,reservedColors[i]),reservedFound=!0)}),reservedFound}hideSubredditInfo=!0,hideSideLists=!0,hideSidebar=!1,useDefaultStyle=!0,hideSubmitButtons=!0,hideHeader=!0,hideUsernameMentions=!0,hideSubredditLinks=!0,unames=[],colors=["blue","black","orange","yellow","olive","maroon","purple","fuchsia","lime","teal","aqua","navy","gray","silver","#1cd100","#b02ad1","#2ad199","#d12a2a","#ab5b00","#226bab","#7c8500","#850035","#006a85","#6a0085","#1b3785","#0d5e00","#005e58","#00005e","#5e2713","#003807","#382d00","#380b29"],reservedClasses=["submitter","moderator","admin"],reservedColors=["blue","green","red"],[].forEach.call(document.getElementsByClassName("author"),function(e){checkReserved(e)||(par=e.parentElement,"p"==par.tagName.toLowerCase()&&"tagline"==par.className&&(e.classList.contains("anonymized")?setColor(e,""):(uname=e.textContent,-1===unames.indexOf(uname)&&unames.push(uname),uIndex=unames.indexOf(uname),color=colors[uIndex],setColor(e,color)),e.classList.toggle("anonymized")))}),toggleClassVisibility("linkinfo"),toggleClassVisibility("user"),1==hideSidebar?toggleClassVisibility("side"):1==hideSubredditInfo?toggleClassVisibility("titlebox"):[].forEach.call(document.getElementsByClassName("titlebox"),function(e){elFlair=e.getElementsByClassName("tagline"),elFlair[0].style.visibility="hidden"==elFlair[0].style.visibility?"visible":"hidden"}),1==hideHeader&&(elHead=document.getElementById("header"),elHead.style.display="none"==elHead.style.display?"":"none"),1==hideSideLists&&toggleClassVisibility("sidecontentbox"),1==useDefaultStyle&&document.getElementById("res-style-checkbox").click(),1==hideSubmitButtons&&(toggleClassVisibility("sidebox submit submit-link"),toggleClassVisibility("sidebox submit submit-text")),toggleClassVisibility("commentingAsUser"),toggleClassVisibility("flair");})();`

Alternatively, one with HTMLSpecialChars encoded: 

`javascript:(function()%7Bfunction%20setColor(e%2Cs)%7Bvoid%200!%3D%3Ds%3F(e.style.backgroundColor%3Ds%2Ce.style.color%3Ds)%3A(e.style.cssText%3D%22-webkit-filter%3A%20blur(5px)%3B%20%2F*%20Safari%20*%2F%22%2Ce.style.cssText%3D%22filter%3A%20blur(5px)%22)%7Dfunction%20toggleClassVisibility(e)%7B%5B%5D.forEach.call(document.getElementsByClassName(e)%2Cfunction(e)%7Be.style.display%3D%22none%22%3D%3De.style.display%3F%22%22%3A%22none%22%7D)%7Dfunction%20classToggle(e%2Cs)%7Be.classList.contains(s%2B%22-anonymized%22)%3F(e.classList.remove(s%2B%22-anonymized%22)%2Ce.classList.add(s))%3A(e.classList.remove(s)%2Ce.classList.add(s%2B%22-anonymized%22))%7Dfunction%20checkReserved(e)%7Breturn%20reservedFound%3D!1%2CreservedClasses.forEach(function(s%2Ci)%7B(e.classList.contains(s)%7C%7Ce.classList.contains(s%2B%22-anonymized%22))%26%26(classToggle(e%2Cs)%2CsetColor(e%2CreservedColors%5Bi%5D)%2CreservedFound%3D!0)%7D)%2CreservedFound%7DhideSubredditInfo%3D!0%2ChideSideLists%3D!0%2ChideSidebar%3D!1%2CuseDefaultStyle%3D!0%2ChideSubmitButtons%3D!0%2ChideHeader%3D!0%2ChideUsernameMentions%3D!0%2ChideSubredditLinks%3D!0%2Cunames%3D%5B%5D%2Ccolors%3D%5B%22blue%22%2C%22black%22%2C%22orange%22%2C%22yellow%22%2C%22olive%22%2C%22maroon%22%2C%22purple%22%2C%22fuchsia%22%2C%22lime%22%2C%22teal%22%2C%22aqua%22%2C%22navy%22%2C%22gray%22%2C%22silver%22%2C%22%231cd100%22%2C%22%23b02ad1%22%2C%22%232ad199%22%2C%22%23d12a2a%22%2C%22%23ab5b00%22%2C%22%23226bab%22%2C%22%237c8500%22%2C%22%23850035%22%2C%22%23006a85%22%2C%22%236a0085%22%2C%22%231b3785%22%2C%22%230d5e00%22%2C%22%23005e58%22%2C%22%2300005e%22%2C%22%235e2713%22%2C%22%23003807%22%2C%22%23382d00%22%2C%22%23380b29%22%5D%2CreservedClasses%3D%5B%22submitter%22%2C%22moderator%22%2C%22admin%22%5D%2CreservedColors%3D%5B%22blue%22%2C%22green%22%2C%22red%22%5D%2C%5B%5D.forEach.call(document.getElementsByClassName(%22author%22)%2Cfunction(e)%7BcheckReserved(e)%7C%7C(par%3De.parentElement%2C%22p%22%3D%3Dpar.tagName.toLowerCase()%26%26%22tagline%22%3D%3Dpar.className%26%26(e.classList.contains(%22anonymized%22)%3FsetColor(e%2C%22%22)%3A(uname%3De.textContent%2C-1%3D%3D%3Dunames.indexOf(uname)%26%26unames.push(uname)%2CuIndex%3Dunames.indexOf(uname)%2Ccolor%3Dcolors%5BuIndex%5D%2CsetColor(e%2Ccolor))%2Ce.classList.toggle(%22anonymized%22)))%7D)%2CtoggleClassVisibility(%22linkinfo%22)%2CtoggleClassVisibility(%22user%22)%2C1%3D%3DhideSidebar%3FtoggleClassVisibility(%22side%22)%3A1%3D%3DhideSubredditInfo%3FtoggleClassVisibility(%22titlebox%22)%3A%5B%5D.forEach.call(document.getElementsByClassName(%22titlebox%22)%2Cfunction(e)%7BelFlair%3De.getElementsByClassName(%22tagline%22)%2CelFlair%5B0%5D.style.visibility%3D%22hidden%22%3D%3DelFlair%5B0%5D.style.visibility%3F%22visible%22%3A%22hidden%22%7D)%2C1%3D%3DhideHeader%26%26(elHead%3Ddocument.getElementById(%22header%22)%2CelHead.style.display%3D%22none%22%3D%3DelHead.style.display%3F%22%22%3A%22none%22)%2C1%3D%3DhideSideLists%26%26toggleClassVisibility(%22sidecontentbox%22)%2C1%3D%3DuseDefaultStyle%26%26document.getElementById(%22res-style-checkbox%22).click()%2C1%3D%3DhideSubmitButtons%26%26(toggleClassVisibility(%22sidebox%20submit%20submit-link%22)%2CtoggleClassVisibility(%22sidebox%20submit%20submit-text%22))%2CtoggleClassVisibility(%22commentingAsUser%22)%2CtoggleClassVisibility(%22flair%22)%7D)()`

Click on it to use. Note: The only way to undo this at the moment is to reload the page!

To modify options, edit a file in the repo, minify, encapsulate it like so:

`javascript:(function(){ // code goes here })();`

and paste it into the 'URL' component of your bookmarklet.
